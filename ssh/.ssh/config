ServerAliveInterval 300

Host *
    ForwardAgent yes
    AddKeysToAgent yes

Host gitlab.com
    User kumaresan-rajeswaran
    HostName gitlab.com
    IdentityFile ~/.ssh/id_rsa
    IdentitiesOnly yes

Host github-kumaresan-plivo
    User kumaresan-plivo
    HostName github.com
    IdentityFile ~/.ssh/id_rsa
    IdentitiesOnly yes

host i-* mi-* 10.0.*
    User ec2-user
    IdentityFile ~/.ssh/ec2ssh
    ProxyCommand sh -c "aws ssm start-session --profile=prod --target %h --document-name AWS-StartSSHSession --parameters portNumber=%p"

Host prod-rds-tunnel
  User ec2-user
  Localforward 4444 tangapp-prod-db.cgklcgrrlmgi.us-east-2.rds.amazonaws.com:5432
  IdentityFile ~/.ssh/ec2ssh
  RequestTTY no
  ProxyCommand sh -c 'aws ssm start-session --profile=prod --target i-0f712a305ec16989e --document-name AWS-StartSSHSession --parameters portNumber=22'

Host staging-rds-tunnel
  User ec2-user
  Localforward 4444 tang-staging-db-prod-repl-2022-1-1-restored.cgklcgrrlmgi.us-east-2.rds.amazonaws.com:5432
  IdentityFile ~/.ssh/ssh-staging
  RequestTTY no
  ProxyCommand sh -c 'aws ssm start-session --profile=prod --target i-070851fabcb1bc13b --document-name AWS-StartSSHSession --parameters portNumber=22'
